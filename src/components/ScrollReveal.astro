---
// Scroll reveal animation component
---

<div class="scroll-reveal" data-reveal>
	<slot />
</div>

<script>
	if (typeof window !== 'undefined') {
		const observerOptions = {
			threshold: 0.1,
			rootMargin: '0px 0px -50px 0px'
		};

		const observer = new IntersectionObserver((entries) => {
			entries.forEach(entry => {
				if (entry.isIntersecting) {
					entry.target.classList.add('revealed');
					observer.unobserve(entry.target);
				}
			});
		}, observerOptions);

		document.querySelectorAll('[data-reveal]').forEach(el => {
			observer.observe(el);
		});
	}
</script>

<style>
	.scroll-reveal {
		opacity: 0;
		transform: translateY(30px);
		transition: opacity 0.6s cubic-bezier(0.4, 0, 0.2, 1),
			transform 0.6s cubic-bezier(0.4, 0, 0.2, 1);
	}

	.scroll-reveal.revealed {
		opacity: 1;
		transform: translateY(0);
	}

	/* Stagger children */
	.scroll-reveal.revealed > *:nth-child(1) { transition-delay: 0.1s; }
	.scroll-reveal.revealed > *:nth-child(2) { transition-delay: 0.2s; }
	.scroll-reveal.revealed > *:nth-child(3) { transition-delay: 0.3s; }
	.scroll-reveal.revealed > *:nth-child(4) { transition-delay: 0.4s; }
</style>

